%notes: tests lyric centering
\documentclass[11pt]{article}
\usepackage{graphicx}
\usepackage{fontspec}
\usepackage[allowdeprecated=false,debug=syllablerewriting]{gregoriotex}

\makeatletter
\let\real@debugmsg\gre@debugmsg %
\def\gre@debugmsg#1#2{%
    \real@debugmsg{#1}{#2}%
    \IfStrEq{#1}{syllablerewriting}{%
        \IfStrEqCase{#2}{%
            %{merging format when prepending previous last syllable part}{%
            %    \hbox to 0pt{{\color[rgb]{0,1,1}[}}%
            %}%
            %{prepending previous last syllable part}{%
            %    \hbox to 0pt{{\color[rgb]{0,1,1}[}}%
            %}%
            %{not rewriting syllable}{%
            %    \hbox to 0pt{{\color[rgb]{0,1,0}[}}%
            %}%
            {start emit}{%
                \hbox to 0pt{{\color[rgb]{0,1,0}[}}%
            }%
            {end emit}{%
                \hbox to 0pt{{\color[rgb]{0,1,0}]}}%
            }%
        }%
    }{%
    }%
}%
\makeatother

\setmainfont[
    Path = ../../../fonts/ ,
    Extension = .otf ,
    UprightFont = *-Regular ,
    UprightFeatures = { SmallCapsFont = *SC-Regular } ,
    BoldFont = *-Bold ,
    BoldFeatures = { SmallCapsFont = *SC-Bold } ,
    ItalicFont = *-Italic ,
    ItalicFeatures = { SmallCapsFont = *SC-Italic } ,
    BoldItalicFont = *-BoldItalic ,
    BoldItalicFeatures = { SmallCapsFont = *SC-BoldItalic } ,
    Ligatures = TeX
]{Alegreya}
\gresetinitiallines{0}
\begin{document}

default:

\gregorioscore[a]{FactusEst}

\vskip 1cm
off:

\gresetsyllablerewriting{off}
\gregorioscore[a]{FactusEst}

\vskip 1cm
auto:

\gresetsyllablerewriting{auto}
\gregorioscore[a]{FactusEst}

\end{document}
