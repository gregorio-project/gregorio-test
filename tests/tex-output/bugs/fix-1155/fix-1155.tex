\documentclass[12pt]{article}
\usepackage{fontspec}
\usepackage{geometry}
\geometry{a4paper}
\usepackage[allowdeprecated=false,debug={general,syllablerewriting}]{gregoriotex}
\usepackage{libertine}
\begin{document}
\grechangecount{endofsyllablepenalty}{-500}%
\grecreatedim{spacebeforeeolcustos}{0 cm plus 0 cm minus 0 cm}{scalable}%
\gresetprotrusionfactor{eolhyphen}{0}
\def\grelooseness{\looseness}
%\gresetsyllablerewriting{off}
% the purpose of this test is to shoe the protrusions from the auto-hyphens
% between "amm*(g)" and "g(g)" and between "Si(g)" and "avv*(g)", so these
% should be manipulated to the end of lines; they should protrude into the
% custos
\gabcsnippet{(c3) g(g) g(g) g(g) g(g) g(g) g(g) g(g) g(g) g(g) g(g) g(g) g(g) g(gg) g(g) g(g) g(g) g(g) g(g) g(g) g(g) g(g) ammmmmmmmmmmmm(g)g(g) g(g) g(g) g(g) g(g) g(g) g(g) g(g) g(g) g(g)  g(g) g(gg) g(g) g(g) g(g) g(g) g(g) g(g) g(g) g(g) g(g) (g) g(g) g(g) g(g) g(g) g(g) g(g) g(g) g(g) g(g) g(g) g(g) g(g) g(g) Si(g)avvvvv(g) g(g)}
\end{document}
